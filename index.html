<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Anish • Chat</title><script src="https://cdn.tailwindcss.com"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"><style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');:root{--bg:#f8f9fb;--panel:#ffffff;--muted:#6b7280;--accent:#007aff;--bubble-user:#007aff;--bubble-ai:#f2f2f7;}*{box-sizing:border-box;margin:0;padding:0}html,body{height:100%;font-family:'Inter',system-ui;background:var(--bg);color:#1c1c1e;overflow:hidden}.app{max-width:860px;height:100%;margin:0 auto;display:flex;flex-direction:column;background:var(--panel);border-radius:24px;box-shadow:0 10px 30px rgba(0,0,0,0.08);overflow:hidden;border:1px solid #e5e7eb}header{flex-shrink:0;display:flex;align-items:center;justify-content:space-between;padding:16px 24px;border-bottom:1px solid #e5e7eb;background:#fafafa}.brand{display:flex;align-items:center;gap:12px}.logo{width:40px;height:40px;border-radius:12px;background:var(--accent);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;box-shadow:0 4px 10px rgba(0,122,255,0.3)}.brand h1{font-size:18px;font-weight:600}.brand p{font-size:13px;color:var(--muted)}.user-name{background:#f2f2f7;padding:8px 12px;border-radius:999px;font-weight:500;color:var(--muted);font-size:14px}.conversation{flex:1;display:flex;flex-direction:column;overflow:hidden}.chat-window{flex:1;overflow-y:auto;padding:24px;scroll-behavior:smooth}.message{display:flex;align-items:flex-start;gap:12px;margin-bottom:20px;animation:fadeIn 0.4s ease forwards}.message.user{flex-direction:row-reverse}.avatar{width:38px;height:38px;border-radius:50%;background:#e5e7eb;color:#1c1c1e;display:flex;align-items:center;justify-content:center;font-size:16px}.bubble{max-width:75%;padding:12px 16px;border-radius:16px;font-size:15px;line-height:1.5;background:var(--bubble-ai);color:#1c1c1e}.message.user .bubble{background:var(--bubble-user);color:white}.meta{font-size:12px;color:var(--muted);margin-top:6px}footer{padding:12px 18px;display:flex;align-items:center;gap:10px;border-top:1px solid #e5e7eb;background:#fafafa;flex-shrink:0}.input{flex:1;display:flex;align-items:center;gap:10px}.input textarea{width:100%;resize:none;height:50px;padding:12px 14px;border-radius:14px;background:#fff;border:1px solid #d1d5db;color:#1c1c1e;font-size:14px;outline:none;transition:all 0.2s ease}.input textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(0,122,255,0.15)}.btn{background:var(--accent);padding:12px 16px;border-radius:12px;color:white;font-weight:600;border:none;cursor:pointer;transition:all 0.2s ease}.btn:hover{background:#005fdb;transform:translateY(-1px)}#typing-indicator em{display:inline-block;animation:pulse 1.2s infinite;color:var(--muted)}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}@keyframes pulse{0%{opacity:0.3}50%{opacity:1}100%{opacity:0.3}}@media(max-width:768px){.app{border-radius:0}.bubble{max-width:85%}}</style></head><body><div class="app"><header><div class="brand"><div class="logo">A</div><div><h1>ANISH</h1><p>Assistant • Chat & Vision</p></div></div><div class="user-name">Guest</div></header><section class="conversation"><div id="chat-messages" class="chat-window"><div class="message"><div class="avatar"><i class="fas fa-robot"></i></div><div class="bubble"><strong>Anish</strong> system initialized and ready. How may I assist you today?<div class="meta">System Ready</div></div></div></div><footer><div class="input"><textarea id="user-input" placeholder="Send a message..." rows="1"></textarea></div><button id="send-btn" class="btn"><i class="fas fa-paper-plane"></i></button></footer></section></div><script>const API_KEY="AIzaSyBwouSEYCymxZAmP9AqjPCj4ph41WbsJYM";const API_URL="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent";const chatMessages=document.getElementById('chat-messages');const userInput=document.getElementById('user-input');const sendBtn=document.getElementById('send-btn');const SYSTEM_PROMPT=`Chat is provided by ANISH, an advanced AI assistant. Provide clear, concise, and helpful responses.`;function addMessage(content,isUser=false,instant=true){const wrapper=document.createElement('div');wrapper.className='message'+(isUser?' user':'');const avatar=document.createElement('div');avatar.className='avatar';avatar.innerHTML=`<i class='${isUser?'fas fa-user':'fas fa-robot'}'></i>`;const bubble=document.createElement('div');bubble.className='bubble';if(instant)bubble.innerHTML=content;else bubble.innerHTML='';wrapper.appendChild(avatar);wrapper.appendChild(bubble);chatMessages.appendChild(wrapper);chatMessages.scrollTop=chatMessages.scrollHeight;return bubble;}function showTyping(){const el=addMessage('<em>ANISH is typing...</em>',false,true);el.id='typing-indicator';}function removeTyping(){const el=document.getElementById('typing-indicator');if(el)el.parentElement.remove();}async function callAPI(msg){const payload={contents:[{parts:[{text:msg}]}],systemInstruction:{parts:[{text:SYSTEM_PROMPT}]}};try{const res=await fetch(`${API_URL}?key=${API_KEY}`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});const data=await res.json();const text=data.candidates?.[0]?.content?.parts?.[0]?.text||'No response';return text;}catch(e){return'⚠️ Error fetching reply.'}}async function sendMessage(){const msg=userInput.value.trim();if(!msg)return;userInput.value='';addMessage(msg,true,true);showTyping();sendBtn.disabled=true;const text=await callAPI(msg);removeTyping();const bubble=addMessage('',false,false);let i=0;(function typeWriter(){if(i<text.length){bubble.innerHTML+=text.charAt(i);i++;chatMessages.scrollTop=chatMessages.scrollHeight;setTimeout(typeWriter,15);}else{sendBtn.disabled=false;userInput.focus();}})();}sendBtn.addEventListener('click',sendMessage);userInput.addEventListener('keydown',e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}});userInput.focus();</script></body></html>
      0%{opacity:0;transform:translateY(-10px);}
      100%{opacity:1;transform:translateY(0);}
    }

    @media(max-width:768px){
      .app{border-radius:0;}
      .bubble{max-width:85%;}
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="brand">
        <div class="logo">A</div>
        <div>
          <h1>ANISH</h1>
          <p>Assistant • Chat & Vision</p>
        </div>
      </div>
      <div class="user-name"></div>
    </header>

    <section class="conversation">
      <div id="chat-messages" class="chat-window">
        <div class="message">
          <div class="avatar"><i class="fas fa-robot"></i></div>
          <div class="bubble">
            <strong>Anish</strong> system initialized and ready. How may I assist you today?
            <div class="meta">System Ready</div>
          </div>
        </div>
      </div>

      <footer>
        <div class="input">
          <textarea id="user-input" placeholder="Send a message..." rows="1"></textarea>
        </div>
        <button id="send-btn" class="btn"><i class="fas fa-paper-plane"></i></button>
      </footer>
    </section>
  </div>

  <script>
    const API_KEY = "AIzaSyBwouSEYCymxZAmP9AqjPCj4ph41WbsJYM";
    const API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent";
    const chatMessages = document.getElementById('chat-messages');
    const userInput = document.getElementById('user-input');
    const sendBtn = document.getElementById('send-btn');

    const SYSTEM_PROMPT = `Chat is provided by ANISH, an advanced AI assistant. Provide clear, concise, and helpful responses. Use markdown for formatting. Always cite sources when using web search.`;

    function formatMessage(text){
      text = text.replace(/\n/g, '<br>');
      text = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
      text = text.replace(/\*(.*?)\*/g, '<em>$1</em>');
      text = text.replace(/`(.*?)`/g, '<code>$1</code>');
      text = text.replace(/```([\s\S]*?)```/g, '<pre>$1</pre>');
      return text;
    }

    function addMessage(content, isUser=false){
      const wrapper = document.createElement('div');
      wrapper.className = 'message' + (isUser ? ' user' : '');
      const avatar = document.createElement('div');
      avatar.className = 'avatar';
      avatar.innerHTML = `<i class='${isUser? 'fas fa-user':'fas fa-robot'}'></i>`;
      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      bubble.innerHTML = formatMessage(content);
      wrapper.appendChild(avatar);
      wrapper.appendChild(bubble);
      chatMessages.appendChild(wrapper);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      return bubble;
    }

    function showTyping(){
      const el = addMessage('<em>ANISH is typing...</em>', false);
      el.id = 'typing-indicator';
    }
    function removeTyping(){
      const el = document.getElementById('typing-indicator');
      if(el) el.parentElement.remove();
    }

    async function callAPI(userMessage){
      const payload = {
        contents: [{ parts: [{ text: userMessage }] }],
        systemInstruction: { parts: [{ text: SYSTEM_PROMPT }] },
        tools: [{ "google_search": {} }]
      };
      try{
        const res = await fetch(`${API_URL}?key=${API_KEY}`,{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify(payload)
        });
        const data = await res.json();
        const candidate = data.candidates?.[0];
        const text = candidate?.content?.parts?.[0]?.text || 'No response';
        const sources = candidate?.groundingMetadata?.groundingAttributions || [];
        return {text, sources};
      }catch(e){
        console.error(e);
        return {text:'⚠️ System temporarily unavailable. Try again later.', sources:[]};
      }
    }

    async function sendMessage(){
      const message = userInput.value.trim(); if(!message) return;
      userInput.value = '';
      addMessage(message, true);
      showTyping(); sendBtn.disabled = true;
      const {text, sources} = await callAPI(message);
      removeTyping(); addMessage(text, false);
      if(sources.length>0){
        const s = document.createElement('div');
        s.className='meta';
        s.innerHTML = 'Sources: ' + sources.map((x,i)=>`<a href="${x.web?.uri||'#'}" target="_blank">Source ${i+1}</a>`).join(', ');
        chatMessages.lastChild.querySelector('.bubble').appendChild(s);
      }
      sendBtn.disabled = false; userInput.focus();
    }

    sendBtn.addEventListener('click', sendMessage);
    userInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' && !e.shiftKey){ e.preventDefault(); sendMessage(); }});
    userInput.focus();
  </script>
</body>
</html>

Encode this code
